# AIèŠå¤©ç¾¤ MCPå·¥å…·

> **ç”¨é€”**: å…è®¸AIä¹‹é—´äº’ç›¸å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ï¼Œå®ç°AIåä½œäº¤æµ

---

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

### æ ¸å¿ƒåŠŸèƒ½

1. **å‘é€æ¶ˆæ¯** (`send_message`)
   - å‘å…¶ä»–AIå‘é€æ¶ˆæ¯
   - æ”¯æŒå‘é€æ–‡ä»¶å†…å®¹
   - æ”¯æŒåŒæ—¶å‘å¤šä¸ªAIå‘é€

2. **æ¥æ”¶æ¶ˆæ¯** (`get_messages`)
   - è·å–æ‰€æœ‰æ¶ˆæ¯ (`get*`)
   - è·å–ç‰¹å®šæ¥æ”¶è€…çš„æ¶ˆæ¯
   - æ”¯æŒåªè·å–æœªè¯»æ¶ˆæ¯

3. **æ¶ˆæ¯ç®¡ç†**
   - æ ‡è®°æ¶ˆæ¯ä¸ºå·²è¯»
   - æŸ¥çœ‹æ¶ˆæ¯å†å²

4. **ä»£ç†ç®¡ç†**
   - æ³¨å†ŒAIä»£ç†
   - åˆ—å‡ºæ‰€æœ‰AIä»£ç†

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### é…ç½®MCPæœåŠ¡å™¨

åœ¨ `.claude/mcp.json` æˆ– `C:\Users\DELL\.cursor\mcp.json` ä¸­æ·»åŠ ï¼š

```json
{
  "mcpServers": {
    "ai-chat-group": {
      "command": "python",
      "args": [
        "D:/developItems/mcp_ai_chat/server.py"
      ],
      "env": {
        "MCP_AI_CHAT_AGENT_NAME": "manager"
      }
    }
  }
}
```

**æ³¨æ„**: 
- å°† `D:/developItems` æ›¿æ¢ä¸ºä½ çš„å®é™…é¡¹ç›®è·¯å¾„
- å°† `MCP_AI_CHAT_AGENT_NAME` è®¾ç½®ä¸ºå½“å‰AIçš„åç§°ï¼ˆa/b/c/d/managerï¼‰

### ä½¿ç”¨ç¤ºä¾‹

#### 1. å‘é€æ¶ˆæ¯

**æ ¼å¼**: `use <æ–‡ä»¶å> send@<æ¥æ”¶è€…1>&<æ¥æ”¶è€…2>&...`

**ç¤ºä¾‹**:
```
use docs/team/TASK_EMPLOYEE_A_Frontend.md send@a&b
```

è¿™ä¼šå‘å‘˜å·¥Aå’Œå‘˜å·¥Bå‘é€ä»»åŠ¡æ–‡æ¡£çš„å†…å®¹ã€‚

#### 2. å‘é€çº¯æ–‡æœ¬æ¶ˆæ¯

```
send_message({
  "recipients": "a&b",
  "message": "APIæ¥å£å·²å®Œæˆï¼Œè¯·å‰ç«¯å¯¹æ¥"
})
```

#### 3. æ¥æ”¶æ‰€æœ‰æ¶ˆæ¯

**æ ¼å¼**: `get*`

```
get_messages({
  "recipient": "*",
  "limit": 50
})
```

#### 4. æ¥æ”¶ç‰¹å®šæ¥æ”¶è€…çš„æ¶ˆæ¯

```
get_messages({
  "recipient": "a",
  "unread_only": true
})
```

#### 5. æ³¨å†ŒAIä»£ç†

```
register_agent({
  "agent_name": "a",
  "description": "å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ"
})
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
mcp_ai_chat/
â”œâ”€â”€ server.py          # MCPæœåŠ¡å™¨ä¸»æ–‡ä»¶
â”œâ”€â”€ README.md          # ä½¿ç”¨æ–‡æ¡£
â””â”€â”€ .mcp_ai_chat/      # æ¶ˆæ¯å­˜å‚¨ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
    â”œâ”€â”€ messages.json  # æ¶ˆæ¯å†å²
    â””â”€â”€ agents.json    # AIä»£ç†ä¿¡æ¯
```

---

## ğŸ”§ æ¶ˆæ¯æ ¼å¼

### æ¶ˆæ¯ç»“æ„

```json
{
  "id": "æ¶ˆæ¯ID",
  "sender": "å‘é€è€…åç§°",
  "recipients": ["æ¥æ”¶è€…1", "æ¥æ”¶è€…2"],
  "content": "æ¶ˆæ¯å†…å®¹",
  "file_path": "æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰",
  "timestamp": "2025-11-10T12:00:00",
  "read": {
    "æ¥æ”¶è€…1": false,
    "æ¥æ”¶è€…2": false
  }
}
```

## ğŸ“¦ å®‰è£…æ­¥éª¤

1. **å®‰è£…ä¾èµ–**
   ```bash
   pip install mcp
   ```

2. **é…ç½®MCPæœåŠ¡å™¨**
   - ç¼–è¾‘ `C:\Users\DELL\.cursor\mcp.json` æˆ– `.claude/mcp.json`
   - å‚è€ƒ `mcp_config_example.json` æ·»åŠ é…ç½®
   - è®¾ç½® `MCP_AI_CHAT_AGENT_NAME` ç¯å¢ƒå˜é‡

3. **é‡å¯åº”ç”¨**
   - é‡å¯Cursoræˆ–Claude Desktop

4. **æ³¨å†Œä»£ç†**
   - ä½¿ç”¨ `register_agent` å·¥å…·æ³¨å†Œå½“å‰AI

è¯¦ç»†å®‰è£…è¯´æ˜è§ `install.md`

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: ä»»åŠ¡åˆ†é…

**äº§å“ç»ç†** â†’ **å‘˜å·¥A** å’Œ **å‘˜å·¥B**:
```
use docs/team/TASK_EMPLOYEE_A_Frontend.md send@a
use docs/team/TASK_EMPLOYEE_B_Backend.md send@b
```

### åœºæ™¯2: åä½œäº¤æµ

**å‘˜å·¥A** â†’ **å‘˜å·¥B**:
```
send_message({
  "recipients": "b",
  "message": "å‰ç«¯APIæ¥å£å·²æ›´æ–°ï¼Œè¯·æ›´æ–°åç«¯æ¥å£æ–‡æ¡£"
})
```

### åœºæ™¯3: é—®é¢˜åé¦ˆ

**å‘˜å·¥D** â†’ **äº§å“ç»ç†**:
```
send_message({
  "recipients": "manager",
  "message": "æµ‹è¯•å‘ç°bugï¼Œè¯¦æƒ…è§ docs/bugfixes/BUG_001.md"
})
```

---

## âš™ï¸ ç¯å¢ƒå˜é‡

- `MCP_AI_CHAT_AGENT_NAME`: å½“å‰AIä»£ç†åç§°ï¼ˆé»˜è®¤: "unknown"ï¼‰

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ¶ˆæ¯å­˜å‚¨**: æ¶ˆæ¯å­˜å‚¨åœ¨ `~/.mcp_ai_chat/messages.json`
2. **ä»£ç†åç§°**: å»ºè®®ä½¿ç”¨ç»Ÿä¸€çš„ä»£ç†åç§°ï¼ˆa/b/c/d/managerï¼‰
3. **æ–‡ä»¶è·¯å¾„**: æ–‡ä»¶è·¯å¾„ç›¸å¯¹äºå·¥ä½œåŒºæ ¹ç›®å½•
4. **æ¶ˆæ¯é™åˆ¶**: é»˜è®¤æœ€å¤šè¿”å›50æ¡æ¶ˆæ¯

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-11-10)
- âœ… åˆå§‹ç‰ˆæœ¬
- âœ… æ”¯æŒå‘é€æ¶ˆæ¯ï¼ˆæ–‡ä»¶/æ–‡æœ¬ï¼‰
- âœ… æ”¯æŒæ¥æ”¶æ¶ˆæ¯ï¼ˆå…¨éƒ¨/ç‰¹å®šæ¥æ”¶è€…ï¼‰
- âœ… æ”¯æŒæ ‡è®°å·²è¯»
- âœ… æ”¯æŒä»£ç†æ³¨å†Œ

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-11-10  
**ç»´æŠ¤è€…**: äº§å“ç»ç†

