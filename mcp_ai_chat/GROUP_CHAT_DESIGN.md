# ç¾¤èŠåŠŸèƒ½è®¾è®¡æ–‡æ¡£

> **åˆ›å»ºæ—¶é—´**: 2025-11-10  
> **çŠ¶æ€**: ğŸ“‹ è®¾è®¡æ–¹æ¡ˆ

---

## ğŸ¯ è®¾è®¡ç›®æ ‡

1. **é¡¹ç›®åä½œ**ï¼šæŒ‰é¡¹ç›®åˆ›å»ºç¾¤ç»„ï¼Œç›¸å…³AIé›†ä¸­è®¨è®º
2. **æ¶ˆæ¯ç»„ç»‡**ï¼šæŒ‰ç¾¤ç»„åˆ†ç±»æ¶ˆæ¯ï¼Œä¾¿äºè¿½è¸ª
3. **ç®€å•å®ç”¨**ï¼šä¿æŒç®€å•ï¼Œä¸è¿‡åº¦è®¾è®¡
4. **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰çš„ç§èŠåŠŸèƒ½

---

## ğŸ“‹ åŠŸèƒ½è®¾è®¡

### æ ¸å¿ƒåŠŸèƒ½

1. **åˆ›å»ºç¾¤ç»„** (`create_group`)
   - åˆ›å»ºé¡¹ç›®ç¾¤ç»„
   - æŒ‡å®šç¾¤ç»„åç§°ã€æè¿°ã€æˆå‘˜

2. **åŠ å…¥ç¾¤ç»„** (`join_group`)
   - AIä¸»åŠ¨åŠ å…¥ç¾¤ç»„

3. **å‘é€ç¾¤ç»„æ¶ˆæ¯** (`send_group_message`)
   - åœ¨ç¾¤ç»„ä¸­å‘é€æ¶ˆæ¯
   - æ‰€æœ‰ç¾¤ç»„æˆå‘˜éƒ½èƒ½æ”¶åˆ°

4. **æ¥æ”¶ç¾¤ç»„æ¶ˆæ¯** (`receive_group_messages`)
   - æ¥æ”¶ç‰¹å®šç¾¤ç»„çš„æ¶ˆæ¯
   - æ”¯æŒæœªè¯»è¿‡æ»¤

5. **åˆ—å‡ºç¾¤ç»„** (`list_groups`)
   - åˆ—å‡ºæ‰€æœ‰ç¾¤ç»„
   - æ˜¾ç¤ºç¾¤ç»„æˆå‘˜

6. **ç¦»å¼€ç¾¤ç»„** (`leave_group`)
   - é€€å‡ºç¾¤ç»„

---

## ğŸ”§ æ•°æ®ç»“æ„

### ç¾¤ç»„ä¿¡æ¯ (`groups.json`)

```json
{
  "group_id": {
    "name": "çŸ¥è¯†åº“æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½é¡¹ç›®",
    "description": "å®ç°çŸ¥è¯†åº“æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½åŠŸèƒ½",
    "creator": "manager",
    "creator_session_id": "ä¼šè¯ID",
    "members": ["manager", "a", "b", "c", "d"],
    "created_at": "2025-11-10T12:00:00",
    "active": true
  }
}
```

### æ¶ˆæ¯æ ¼å¼ï¼ˆæ‰©å±•ï¼‰

```json
{
  "id": "æ¶ˆæ¯ID",
  "sender": "å‘é€è€…",
  "sender_role": "è§’è‰²",
  "sender_session_id": "ä¼šè¯ID",
  "type": "group",  // "private" æˆ– "group"
  "group_id": "ç¾¤ç»„ID",  // å¦‚æœæ˜¯ç¾¤ç»„æ¶ˆæ¯
  "recipients": ["æ¥æ”¶è€…åˆ—è¡¨"],  // ç§èŠæ—¶ä½¿ç”¨
  "content": "æ¶ˆæ¯å†…å®¹",
  "timestamp": "æ—¶é—´æˆ³",
  "read": {
    "æˆå‘˜1": false,
    "æˆå‘˜2": false
  }
}
```

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: åˆ›å»ºé¡¹ç›®ç¾¤ç»„

**äº§å“ç»ç†**:
```
create_group({
  "name": "çŸ¥è¯†åº“æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½é¡¹ç›®",
  "description": "å®ç°çŸ¥è¯†åº“æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½åŠŸèƒ½ï¼Œå‚è€ƒCursor IDE",
  "members": ["manager", "a", "b", "c", "d"]
})
```

### åœºæ™¯2: åœ¨ç¾¤ç»„ä¸­è®¨è®º

**å‘˜å·¥A**:
```
send_group_message({
  "group_id": "GROUP_20251110_001",
  "message": "å‰ç«¯æ–‡ä»¶é€‰æ‹©å™¨å·²å®Œæˆï¼Œè¯·åç«¯æä¾›APIæ¥å£"
})
```

**å‘˜å·¥B**:
```
send_group_message({
  "group_id": "GROUP_20251110_001",
  "message": "APIæ¥å£å·²å®ç°ï¼Œæ–‡æ¡£è§ docs/api_documentation/KNOWLEDGE_API.md"
})
```

### åœºæ™¯3: æ¥æ”¶ç¾¤ç»„æ¶ˆæ¯

**å‘˜å·¥C**:
```
receive_group_messages({
  "group_id": "GROUP_20251110_001",
  "unread_only": true
})
```

---

## ğŸ”„ ä¸ç§èŠçš„å…³ç³»

### ç§èŠ vs ç¾¤èŠ

- **ç§èŠ** (`send_message`): ç‚¹å¯¹ç‚¹æˆ–ä¸€å¯¹å¤šï¼Œé€‚åˆä¸´æ—¶æ²Ÿé€š
- **ç¾¤èŠ** (`send_group_message`): é¡¹ç›®è®¨è®ºï¼Œé€‚åˆé•¿æœŸåä½œ

### æ¶ˆæ¯æ¥æ”¶

- **ç§èŠæ¶ˆæ¯**: `receive_messages({"recipient": "a"})`
- **ç¾¤ç»„æ¶ˆæ¯**: `receive_group_messages({"group_id": "xxx"})`
- **æ‰€æœ‰æ¶ˆæ¯**: `receive_messages({"recipient": "*"})` åŒ…å«ç§èŠå’Œç¾¤ç»„

---

## âœ… å®æ–½å»ºè®®

### ä¼˜å…ˆçº§

1. **P0**: åˆ›å»ºç¾¤ç»„ã€å‘é€ç¾¤ç»„æ¶ˆæ¯ã€æ¥æ”¶ç¾¤ç»„æ¶ˆæ¯
2. **P1**: åˆ—å‡ºç¾¤ç»„ã€åŠ å…¥/ç¦»å¼€ç¾¤ç»„
3. **P2**: ç¾¤ç»„ç®¡ç†ï¼ˆé‚€è¯·ã€è¸¢å‡ºæˆå‘˜ï¼‰

### å®æ–½æ­¥éª¤

1. æ‰©å±•æ¶ˆæ¯æ ¼å¼ï¼Œæ·»åŠ  `type` å’Œ `group_id` å­—æ®µ
2. å®ç°ç¾¤ç»„å­˜å‚¨ï¼ˆ`groups.json`ï¼‰
3. å®ç°ç¾¤ç»„ç®¡ç†å·¥å…·
4. æ›´æ–°æ¶ˆæ¯æ¥æ”¶é€»è¾‘ï¼Œæ”¯æŒç¾¤ç»„è¿‡æ»¤
5. æ›´æ–°æ–‡æ¡£

---

## ğŸ“Š ä¼˜åŠ¿åˆ†æ

### ä¼˜åŠ¿

1. âœ… **é¡¹ç›®åä½œæ›´æ¸…æ™°**ï¼šæŒ‰é¡¹ç›®å»ºç¾¤ï¼Œè®¨è®ºé›†ä¸­
2. âœ… **æ¶ˆæ¯ç»„ç»‡æ›´å¥½**ï¼šæŒ‰ç¾¤ç»„åˆ†ç±»ï¼Œä¾¿äºè¿½è¸ª
3. âœ… **å‡å°‘é‡å¤**ï¼šä¸éœ€è¦æ¯æ¬¡åˆ—å‡ºæ‰€æœ‰æ¥æ”¶è€…
4. âœ… **ä¸Šä¸‹æ–‡è¿è´¯**ï¼šç¾¤ç»„å†…è®¨è®ºæœ‰æ›´å¥½çš„è¿ç»­æ€§
5. âœ… **ç¬¦åˆå®é™…åœºæ™¯**ï¼šç±»ä¼¼çœŸå®å·¥ä½œä¸­çš„é¡¹ç›®ç¾¤

### æ³¨æ„äº‹é¡¹

1. âš ï¸ **ä¸è¦è¿‡åº¦è®¾è®¡**ï¼šä¿æŒç®€å•å®ç”¨
2. âš ï¸ **å‘åå…¼å®¹**ï¼šä¸å½±å“ç°æœ‰ç§èŠåŠŸèƒ½
3. âš ï¸ **æ¶ˆæ¯è¿‡æ»¤**ï¼šéœ€è¦åŒæ—¶æ”¯æŒç§èŠå’Œç¾¤ç»„æ¶ˆæ¯è¿‡æ»¤

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**åˆ›å»ºæ—¶é—´**: 2025-11-10  
**çŠ¶æ€**: ğŸ“‹ è®¾è®¡æ–¹æ¡ˆ

